// #THIRD_KIND_PLAYFAB_NOTIFICATION_BUS: dbowen (2017/08/11)
#pragma once
#include <AzCore/EBus/EBus.h>
#include <PlayFab<%- gemName %>Sdk/PlayFab<%- api.name %>DataModels.h>

namespace PlayFab<%- gemName %>Sdk
{

    class PlayFab<%- gemName %>_<%- api.name %>NotificationsBase
    {
    public:
        // ------------ General notifications (not related to a specific API call)
        virtual void OnError(const PlayFabError& error, int requestId) {};
<% if ( hasClientOptions ) { %>        virtual void OnLogin(const <%- api.name %>Models::LoginResult& result, int requestId) {};<% } 
%>
        // ------------ Generated API call wrappers
<% for(var i in api.calls) { var apiCall = api.calls[i]; 
%>        virtual void On<%- apiCall.name %>(const <%- api.name %>Models::<%- apiCall.result%>& result, int requestId) {};
<% } %>    
    };

    // Request based notification bus, use this bus when you want to listen for a callback from a specific instance of an API request.
    class PlayFab<%- gemName %>_<%- api.name %>Notifications
        : public PlayFab<%- gemName %>_<%- api.name %>NotificationsBase,
          public AZ::EBusTraits
    {

    public:
		// The EBus has multiple addresses. Addresses are not ordered. The address corresponds to the ID of the request.
		static const AZ::EBusAddressPolicy AddressPolicy = AZ::EBusAddressPolicy::ById;
		typedef int BusIdType;
   };

    using PlayFab<%- gemName %>_<%- api.name %>NotificationBus = AZ::EBus<PlayFab<%- gemName %>_<%- api.name %>Notifications>;

    // Global notification bus - use this bus when you want to listen for all responses to a particular type of request. 
    class PlayFab<%- gemName %>_<%- api.name %>GlobalNotifications
        : public PlayFab<%- gemName %>_<%- api.name %>NotificationsBase,
          public AZ::EBusTraits
    {

    public:
		// The EBus has a single address, all notifications go to this address.
		static const AZ::EBusAddressPolicy AddressPolicy = AZ::EBusAddressPolicy::Single; 
   };

    using PlayFab<%- gemName %>_<%- api.name %>GlobalNotificationBus = AZ::EBus<PlayFab<%- gemName %>_<%- api.name %>GlobalNotifications>;

} // namespace PlayFab<%- gemName %>Sdk
